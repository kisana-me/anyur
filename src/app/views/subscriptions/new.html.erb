<% content_for :title, "サブスクリプションについて" %>

<h1>サブスクリプションについて</h1>

<% if @subscription %>
  <p>✅既にサブスクリプションに加入しています✅</p>
  <p style="color: #ff0000;">⚠️プランを変更すると即時にお支払いが発生します⚠️</p>
<% end %>

<br /><br />

<div>
  <h2>🌈ANYUR BASIC⚡</h2>
  <p>月額 <strong>¥0</strong></p>
  <p>お申し込みは不要です</p>
  <p>サブスクリプションをしていなければ自動的にこのプランになります</p>
</div>

<br /><br />

<div>
  <h2>🍭ANYUR PLUS💗</h2>
  <p>月額 <strong>¥300</strong></p>
  <% if @subscription %>
    <% if @subscription.stripe_plan_id == ENV['ANYUR_PLUS_STRIPE_PRICE_ID'] %>
      <p>このプランに加入中です</p>
    <% else %>
      <%= form_with url: change_subscriptions_path, method: :post, data: { turbo: false } do |form| %>
        <%= form.hidden_field :price_id, value: ENV['ANYUR_PLUS_STRIPE_PRICE_ID'] %>
        <%= form.submit "♻️このプランに変更する(即時お支払い)" %>
      <% end %>
    <% end %>
  <% else %>
    <%= form_with url: subscriptions_path, method: :post, data: { turbo: false } do |form| %>
      <%= form.hidden_field :price_id, value: ENV['ANYUR_PLUS_STRIPE_PRICE_ID'] %>
      <%= form.submit "↗️このプランに登録する(stripe.com)" %>
    <% end %>
  <% end %>
</div>

<br /><br />

<div>
  <h2>🌠ANYUR PREMIUM🌟</h2>
  <p>月額 <strong>¥1,000</strong></p>
  <% if @subscription %>
    <% if @subscription.stripe_plan_id == ENV['ANYUR_PREMIUM_STRIPE_PRICE_ID'] %>
      <p>このプランに加入中です</p>
    <% else %>
      <%= form_with url: change_subscriptions_path, method: :post, data: { turbo: false } do |form| %>
        <%= form.hidden_field :price_id, value: ENV['ANYUR_PREMIUM_STRIPE_PRICE_ID'] %>
        <%= form.submit "♻️このプランに変更する(即時お支払い)" %>
      <% end %>
    <% end %>
  <% else %>
    <%= form_with url: subscriptions_path, method: :post, data: { turbo: false } do |form| %>
      <%= form.hidden_field :price_id, value: ENV['ANYUR_PREMIUM_STRIPE_PRICE_ID'] %>
      <%= form.submit "↗️このプランに登録する(stripe.com)" %>
    <% end %>
  <% end %>
</div>

<br /><br />

<div>
  <h2>🔮ANYUR LUXURY🪄</h2>
  <p>月額 <strong>¥3,200</strong></p>
  <% if @subscription %>
    <% if @subscription.stripe_plan_id == ENV['ANYUR_LUXURY_STRIPE_PRICE_ID'] %>
      <p>このプランに加入中です</p>
    <% else %>
      <%= form_with url: change_subscriptions_path, method: :post, data: { turbo: false } do |form| %>
        <%= form.hidden_field :price_id, value: ENV['ANYUR_LUXURY_STRIPE_PRICE_ID'] %>
        <%= form.submit "♻️このプランに変更する(即時お支払い)" %>
      <% end %>
    <% end %>
  <% else %>
    <%= form_with url: subscriptions_path, method: :post, data: { turbo: false } do |form| %>
      <%= form.hidden_field :price_id, value: ENV['ANYUR_LUXURY_STRIPE_PRICE_ID'] %>
      <%= form.submit "↗️このプランに登録する(stripe.com)" %>
    <% end %>
  <% end %>
</div>
